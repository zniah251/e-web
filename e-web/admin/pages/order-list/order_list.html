<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Order List</title>
    <link rel="stylesheet" href="../../../admin/template/assets/vendors/mdi/css/materialdesignicons.min.css">
    <link rel="stylesheet" href="../../../admin/template/assets/vendors/css/vendor.bundle.base.css">
    <link rel="stylesheet" href="../../../admin/template/assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        table.table-striped td, table.table-striped th {
            color: #e0e0e0;
        }

        table.table-striped tbody tr:nth-child(odd) td {
            color: #e0e0e0;
        }

        table.table-striped tbody tr:nth-child(even) td {
            color: #e0e0e0;
        }

        .badge-success {
            background-color: #28a745;
            color: #fff;
        }

        .badge-warning {
            background-color: #ffc107;
            color: #212529;
        }

        .badge-danger {
            background-color: #dc3545;
            color: #fff;
        }

        .badge-info {
            background-color: #17a2b8;
            color: #fff;
        }

        .pagination li a {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            text-decoration: none;
            color: #007bff;
            display: inline-block;
        }

        .pagination li a.active {
            background-color: #007bff;
            color: #fff;
        }

        .card-title, .card-description {
            color: #f8f9fa;
        }

        .btn-primary {
            background-color: #007bff;
            border-color: #007bff;
            color: #fff;
        }

        .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
            color: #fff;
        }

        .btn-success {
            background-color: #28a745;
            border-color: #28a745;
            color: #fff;
        }
    </style>
</head>

<body>
    <div class="container-scroller">
        <nav class="sidebar sidebar-offcanvas" id="sidebar">
            <div class="sidebar-brand-wrapper d-none d-lg-flex align-items-center justify-content-center fixed-top">
                <a class="sidebar-brand brand-logo" href="../../index.html"><img src="../../assets/images/logo1.png"
                        alt="logo" /></a>
                <a class="sidebar-brand brand-logo-mini" href="../../index.html"><img
                        src="../../assets/images/logo-mini.svg" alt="logo" /></a>
            </div>
            <ul class="nav">
                <li class="nav-item menu-items">
                    <a class="nav-link" href="../../index.html">
                        <span class="menu-icon">
                            <i class="mdi mdi-speedometer"></i>
                        </span>
                        <span class="menu-title">Dashboard</span>
                    </a>
                </li>
                <li class="nav-item menu-items">
                    <a class="nav-link" href="../product/product_list.html">
                        <span class="menu-icon">
                            <i class="mdi mdi-table-large"></i>
                        </span>
                        <span class="menu-title">Product List</span>
                    </a>
                </li>
                <li class="nav-item menu-items">
                    <a class="nav-link" href="../order/order_list.html">
                        <span class="menu-icon">
                            <i class="mdi mdi-cart"></i>
                        </span>
                        <span class="menu-title">Order List</span>
                    </a>
                </li>
            </ul>
        </nav>

        <div class="container-fluid page-body-wrapper">
            <nav class="navbar p-0 fixed-top d-flex flex-row">
                <div class="navbar-menu-wrapper flex-grow d-flex align-items-stretch">
                    <button class="navbar-toggler navbar-toggler align-self-center" type="button" data-toggle="minimize">
                        <span class="mdi mdi-menu"></span>
                    </button>
                    <ul class="navbar-nav w-100">
                        <li class="nav-item w-100">
                            <form class="nav-link mt-2 mt-md-0 d-none d-lg-flex search">
                                <input type="text" class="form-control" placeholder="Search orders" id="searchInput">
                            </form>
                        </li>
                    </ul>
                    <ul class="navbar-nav navbar-nav-right">
                        <li class="nav-item nav-profile dropdown">
                            <a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown" id="profileDropdown">
                                <span class="nav-profile-name">Henry Klein</span>
                                <span class="online-status"></span>
                                <img src="../../../admin/template/assets/images/faces/face15.jpg" alt="profile" />
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <div class="main-panel">
                <div class="content-wrapper">
                    <div class="row">
                        <div class="col-lg-12 grid-margin stretch-card">
                            <div class="card">
                                <div class="card-body">
                                    <h4 class="card-title">Order List</h4>
                                    <p class="card-description"> Manage your orders </p>
                                    <div class="table-responsive">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th> Order </th>
                                                    <th> Date </th>
                                                    <th> Customers </th>
                                                    <th> Payment </th>
                                                    <th> Status </th>
                                                    <th> Method </th>
                                                    <th> Actions </th>
                                                </tr>
                                            </thead>
                                            <tbody id="orderTableBody">
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="pagination">
                                        <ul id="pagination">
                                        </ul>
                                    </div>
                                    <div class="mt-3">
                                        <a href="../add-products/product.html" class="btn btn-success">+ Add Order</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer class="footer">
                    <div class="d-sm-flex justify-content-center justify-content-sm-between">
                        <span class="text-muted d-block text-center text-sm-left d-sm-inline-block">Copyright Â©
                            bootstrapdash.com 2021</span>
                    </div>
                </footer>
            </div>
        </div>
    </div>

    <script src="../../../admin/template/assets/vendors/js/vendor.bundle.base.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const searchInput = document.getElementById('searchInput');
            const orderTableBody = document.getElementById('orderTableBody');
            const pagination = document.getElementById('pagination');

            const orders = [
                { id: 1, date: 'Apr 10, 2025', customer: 'Cristine Eason', payment: 'Pending', status: 'Delivered', method: 'Credit Card' },
                { id: 2, date: 'Apr 9, 2025', customer: 'Fayre Screech', payment: 'Failed', status: 'Delivered', method: 'PayPal' },
                { id: 3, date: 'Apr 8, 2025', customer: 'Pauline Pfaffe', payment: 'Cancelled', status: 'Out for Delivery', method: 'PayPal' },
                { id: 4, date: 'Apr 7, 2025', customer: 'Maurits Nealey', payment: 'Paid', status: 'Dispatched', method: 'Credit Card' },
                { id: 5, date: 'Apr 6, 2025', customer: 'Eydie Vogelien', payment: 'Cancelled', status: 'Out for Delivery', method: 'PayPal' },
            ];

            const rowsPerPage = 5;
            let currentPage = 1;

            function renderOrders(data) {
                orderTableBody.innerHTML = '';
                const start = (currentPage - 1) * rowsPerPage;
                const end = start + rowsPerPage;
                const paginatedOrders = data.slice(start, end);

                paginatedOrders.forEach(order => {
                    const row = `
                        <tr>
                            <td>#${order.id}</td>
                            <td>${order.date}</td>
                            <td>${order.customer}</td>
                            <td><span class="badge badge-warning">${order.payment}</span></td>
                            <td><span class="badge badge-success">${order.status}</span></td>
                            <td>${order.method}</td>
                            <td>
                                <button class="btn btn-primary btn-sm">View</button>
                                <button class="btn btn-danger btn-sm delete-order" data-id="${order.id}">Delete</button>
                            </td>
                        </tr>
                    `;
                    orderTableBody.innerHTML += row;
                });

                const rows = document.querySelectorAll('#orderTableBody tr');
                rows.forEach(row => {
                    row.style.color = '#e0e0e0';
                });

                addDeleteEventListeners();
            }

            function renderPagination(data) {
                pagination.innerHTML = '';
                const totalPages = Math.ceil(data.length / rowsPerPage);

                for (let i = 1; i <= totalPages; i++) {
                    const pageButton = `
                        <li>
                            <a href="#" class="${i === currentPage ? 'active' : ''}" data-page="${i}">${i}</a>
                        </li>
                    `;
                    pagination.innerHTML += pageButton;
                }

                const pageLinks = pagination.querySelectorAll('a');
                pageLinks.forEach(link => {
                    link.addEventListener('click', function (e) {
                        e.preventDefault();
                        currentPage = parseInt(this.getAttribute('data-page'));
                        renderOrders(orders);
                        renderPagination(orders);
                    });
                });
            }

            function addDeleteEventListeners() {
                const deleteButtons = document.querySelectorAll('.delete-order');
                deleteButtons.forEach(button => {
                    button.addEventListener('click', function () {
                        const orderId = this.getAttribute('data-id');
                        if (confirm(`Are you sure you want to delete order #${orderId}?`)) {
                            const index = orders.findIndex(order => order.id == orderId);
                            if (index !== -1) {
                                orders.splice(index, 1);
                                renderOrders(orders);
                                renderPagination(orders);
                                alert(`Order #${orderId} has been deleted.`);
                            }
                        }
                    });
                });
            }

            renderOrders(orders);
            renderPagination(orders);

            searchInput.addEventListener('input', function () {
                const searchTerm = searchInput.value.toLowerCase();
                const filteredOrders = orders.filter(order =>
                    order.customer.toLowerCase().includes(searchTerm) ||
                    order.id.toString().includes(searchTerm)
                );
                renderOrders(filteredOrders);
                renderPagination(filteredOrders);
            });
        });
    </script>
</body>

</html>